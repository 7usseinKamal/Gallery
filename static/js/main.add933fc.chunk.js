(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{12:function(e,n,t){e.exports={spinner:"LoadingSpinner_spinner__3lNNS"}},13:function(e,n,t){e.exports={container:"Insert_container__2szlw"}},21:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var c=t(11),r=t.n(c),a=(t(21),t(1)),o=t.n(a),s=t(5),i=t(2),l=t.n(i),u=o.a.createContext({images:[],singleImg:{},modal:!1,currentImage:0,fetchImagesHandler:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getImageHandler:function(e){},closeModalHandler:function(){},nextImgHandler:function(){},backImgHandler:function(){}}),d=u,j=t(12),g=t.n(j),m=t(0),b=function(){return Object(m.jsx)("div",{className:g.a.spinner})},x=t(3),f=t(7),O=t.n(f),p=function(e){var n=e.image,t=Object(a.useContext)(d);return Object(m.jsxs)("div",{className:O.a.container,children:[Object(m.jsx)("div",{className:O.a.overlay,id:n.uuid,onClick:t.getImageHandler.bind(null,n.uuid),children:Object(m.jsx)(x.c,{})}),Object(m.jsx)("img",{src:n.url,alt:n.name})]})},h=t(4),v=t.n(h),_=t(8),I=t.n(_),k=function(e){var n="Image ".concat(e.num,"/").concat(e.length);return Object(m.jsxs)("div",{className:I.a.backdrop,onClick:e.onClose,id:"backdrop",children:[Object(m.jsx)("button",{type:"button",onClick:e.onBack,children:Object(m.jsx)(x.a,{})}),Object(m.jsx)("div",{className:I.a.length,children:n}),Object(m.jsx)("button",{type:"button",onClick:e.onNext,children:Object(m.jsx)(x.b,{})})]})},y=t(9),H=t.n(y),C=function(e){var n=e.img;return Object(m.jsx)("div",{className:H.a.modal,children:Object(m.jsxs)("div",{className:H.a.content,children:[Object(m.jsx)("img",{src:n.url,alt:n.name}),Object(m.jsx)("h3",{children:n.name})]})})},N=document.getElementById("overlays"),w=function(e){var n=Object(a.useContext)(d);return Object(m.jsxs)(a.Fragment,{children:[v.a.createPortal(Object(m.jsx)(k,{onClose:e.onClose,num:n.currentImage,length:n.images.length,onNext:n.nextImgHandler,onBack:n.backImgHandler}),N),v.a.createPortal(Object(m.jsx)(C,{img:e.image,children:e.children}),N)]})},B=t(13),M=t.n(B),S=function(){var e=Object(a.useContext)(d);Object(a.useEffect)((function(){e.fetchImagesHandler()}),[]);var n=Object(m.jsx)(b,{});return e.images.length&&(n=e.images.map((function(e){return Object(m.jsx)(p,{image:e},e.uuid)}))),Object(m.jsxs)("div",{className:M.a.container,children:[n,e.modal&&Object(m.jsx)(w,{image:e.singleImg,onClose:e.closeModalHandler})]})},R=function(){return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(S,{})})},E=t(6),J=function(e){var n=Object(a.useState)([]),t=Object(E.a)(n,2),c=t[0],r=t[1],o=Object(a.useState)({}),i=Object(E.a)(o,2),u=i[0],j=i[1],g=Object(a.useState)(!1),b=Object(E.a)(g,2),x=b[0],f=b[1],O=Object(a.useRef)(0),p=function(){var e=Object(s.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://scaleflex.cloudimg.io/v7/0.fe_task_static/pictures.json?vh=7a646d&func=proxy");case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,r(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h={images:c,singleImg:u,modal:x,currentImage:O.current+1,fetchImagesHandler:p,getImageHandler:function(e){f(!0),O.current=c.findIndex((function(n){return n.uuid===e})),j(c[O.current])},closeModalHandler:function(e){console.log(e.target),"backdrop"===e.target.id&&f(!1)},nextImgHandler:function(){O.current>c.length-2?O.current=0:O.current++,j(c[O.current])},backImgHandler:function(){O.current<1?O.current=c.length-1:O.current--,j(c[O.current])}};return Object(m.jsx)(d.Provider,{value:h,children:e.children})};r.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(J,{children:Object(m.jsx)(R,{})}))},7:function(e,n,t){e.exports={container:"Gallery_container__27Rjp",overlay:"Gallery_overlay__2gOr8"}},8:function(e,n,t){e.exports={backdrop:"Backdrop_backdrop__2OD9q",length:"Backdrop_length__1Dggc"}},9:function(e,n,t){e.exports={modal:"ModalOverlay_modal__3joJ3",popup:"ModalOverlay_popup__1Z5lR",content:"ModalOverlay_content__2I6oV"}}},[[24,1,2]]]);
//# sourceMappingURL=main.add933fc.chunk.js.map